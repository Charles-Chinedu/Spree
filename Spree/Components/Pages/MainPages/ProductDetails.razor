@page "/product/{id:int}"
@rendermode InteractiveServer

<PageTitle>@product.Name</PageTitle>

<section id="pro-details" class="section-p1">
    <div class="single-pro-image">
        <img src="@product.ImageUrl" width="100%" alt="Clothes"/>
    </div>
    <div class="single-pro-details">
        <h6>Home / T-Shirt</h6>
        <h4>Men's Fashion T-Shirt</h4>
        <h2>@product.Price.ToString($"#,##")</h2>
        <div>
            <strong>Available Stock:</strong>@product.InStock
        </div>
       
        <label for="quantity">Quantity</label>
        <InputNumber id="quantity" @bind-Value="product.Quantity" min="1" max="@product.Quantity"></InputNumber>
        
        @* Add to Cart *@
        <button class="btn btn-primary mt-3" @onclick="AddToCart" disabled="@(product.Quantity > 1 || product.Quantity <= 0)">Add to Cart</button>
    </div>
    <div></div>
</section>

@code {
    [Parameter]
    public int Id { get; set; } 

    public Product product = new();

    protected override async Task OnInitializedAsync()
    {
        product = await productService.GetProductById(Id);
    }

    private void AddToCart()
    {
        
    }
}
